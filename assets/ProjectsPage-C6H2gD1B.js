import{s as k}from"./sanity-DSpH5Rqu.js";import{i as P}from"./image-url.umd-CnEVf8ao.js";import{v as p,f as h}from"./vue-portable-text-CDAqXRXx.js";import{_ as y,q as C,r as x,l as T,A as w,f as I,o,a as l,b as t,e as m,t as c,F as d,g as u,h as v,n as V,i as U,p as A,d as B}from"./index-cF9PEHBv.js";const S=P(k),N=`*[_type == "project"]{
  location,
  startDate,
    endDate,
    slug,
    details,
    organization,
    title,
    availability,
    "aboutImage": aboutImage.asset->url,
}[0...50]`;let g=[],b=[],f=[];const F={name:"Blog",setup(){const n=C();let e=x("");return{loading:!0,projects:[],upcomingProjects:g,currentProjects:b,pastProjects:f,selectedTab:e,PortableText:p,pushToDetails(i){T.log(n,i),w.selectedProject=i,n.push({name:"ProjectDetails",params:{slug:i.slug.current}})}}},created(){this.fetchData()},methods:{imageUrlFor(n){return S.image(n)},fetchData(){this.loading=!0,k.fetch(N).then(n=>{n.forEach(e=>{e.startDate=h(e.startDate),e.endDate=h(e.endDate),this.sortProjects(e)}),this.loading=!1,this.projects=n,this.selectedTab="All"},n=>{})},sortProjects(n){const e=new Date,i=new Date(n.startDate),a=new Date(n.endDate);switch(!0){case i>e:return g.push(n),"Upcoming";case(i<=e&&a>=e):return b.push(n),"Current";case a<e:return f.push(n),"Past";default:return"Unknown"}}}},r=n=>(A("data-v-430fef37"),n=n(),B(),n),q={class:"container-fluid"},z={class:"row"},E=r(()=>t("div",{class:"col-12 pt-3 d-flex justify-content-center"},[t("h1",{class:"title"},"Projects")],-1)),L={class:"col-12"},R={class:"nav justify-content-center"},G={class:"nav-item"},H={class:"nav-item"},J={class:"nav-item"},K={class:"nav-item"},M={class:"col-12"},O={class:"sm-text"},Q={key:0,class:"row"},W=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"All Projects")],-1)),X=["src"],Y={class:"pt-3"},Z=["onClick"],j={key:1,class:"row"},$=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Upcoming Projects")],-1)),tt=["src"],st={class:"pt-3"},et=["onClick"],at={key:2,class:"row"},nt=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Current Projects")],-1)),ot=["src"],lt={class:"pt-3"},ct=["onClick"],it={key:3,class:"row"},rt=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Past Projects")],-1)),dt=["src"],ut={class:"pt-3"},_t={class:"text-gray"},ht=["onClick"];function mt(n,e,i,a,vt,gt){const D=I("PortableText");return o(),l("div",q,[t("div",z,[E,t("div",L,[t("ul",R,[t("li",G,[t("a",{class:"nav-link active","aria-current":"page",onClick:e[0]||(e[0]=s=>a.selectedTab="All")},"All")]),t("li",H,[t("a",{class:"nav-link",onClick:e[1]||(e[1]=s=>a.selectedTab="Current")},"Current")]),t("li",J,[t("a",{class:"nav-link",onClick:e[2]||(e[2]=s=>a.selectedTab="Upcoming")},"Upcoming")]),t("li",K,[t("a",{class:"nav-link",onClick:e[3]||(e[3]=s=>a.selectedTab="Past")},"Past")])])]),t("div",M,[t("p",O,[m(" Voluntour currently has "),t("strong",null,c(a.projects.length),1),m(" projects available: ")])])]),a.selectedTab=="All"?(o(),l("div",Q,[W,(o(!0),l(d,null,u(a.projects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,X),t("h3",Y,c(s.location),1),t("h5",{class:V({"text-grey":a.pastProjects.includes(s)})},c(s.startDate),3),t("button",{onClick:_=>a.pushToDetails(s),class:"btn btn-primary"},"View",8,Z)]))),128))])):a.selectedTab=="Upcoming"?(o(),l("div",j,[$,(o(!0),l(d,null,u(a.upcomingProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,tt),t("h3",st,c(s.location),1),t("h5",null,c(s.startDate),1),U(D,{value:[],components:{}}),t("button",{onClick:_=>a.pushToDetails(s),class:"btn btn-primary"},"View",8,et)]))),128))])):a.selectedTab=="Current"?(o(),l("div",at,[nt,(o(!0),l(d,null,u(a.currentProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,ot),t("h3",lt,c(s.location),1),t("h5",null,c(s.startDate),1),t("button",{onClick:_=>a.pushToDetails(s),class:"btn btn-primary"},"View",8,ct)]))),128))])):v("",!0),a.selectedTab=="Past"?(o(),l("div",it,[rt,(o(!0),l(d,null,u(a.pastProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,dt),t("h3",ut,c(s.location),1),t("h5",_t,c(s.startDate),1),t("button",{onClick:_=>a.pushToDetails(s),class:"btn btn-primary"},"View",8,ht)]))),128))])):v("",!0)])}const Pt=y(F,[["render",mt],["__scopeId","data-v-430fef37"]]);export{Pt as default};
