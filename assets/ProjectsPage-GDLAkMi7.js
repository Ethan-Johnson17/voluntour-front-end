import{_ as x,s as y,A as u,m as C,r as T,l as g,f as w,o,a as l,b as t,e as v,t as c,F as d,g as _,h as b,n as I,i as V,p as A,d as U}from"./index-B63aHYVF.js";import{i as B}from"./image-url.umd-kI7fyzIc.js";import{v as S,f as h}from"./GlobalUtils-RTtlYDsE.js";const N=B(y),E=`*[_type == "project"]{
  location,
  startDate,
    endDate,
    slug,
    details,
    organization,
    title,
    availability,
    "aboutImage": aboutImage.asset->url,
}[0...50]`;let D=[],k=[],P=[],f=u.projects;const F={name:"Blog",setup(){const e=C();let a=T("All");return{loading:!0,projects:f,upcomingProjects:D,currentProjects:k,pastProjects:P,selectedTab:a,PortableText:S,pushToDetails(i){g.log(e,i),u.selectedProject=i,e.push({name:"ProjectDetails",params:{slug:i.slug.current}})}}},created(){this.fetchData(),g.log(f)},methods:{imageUrlFor(e){return N.image(e)},fetchData(){this.loading=!0,u.projects.length>1?u.projects.forEach(e=>{e.startDate=h(e.startDate),e.endDate=h(e.endDate),this.sortProjects(e)}):y.fetch(E).then(e=>{e.forEach(a=>{a.startDate=h(a.startDate),a.endDate=h(a.endDate),this.sortProjects(a)}),this.loading=!1,this.projects=e,this.selectedTab="All"},e=>{})},sortProjects(e){const a=new Date,i=new Date(e.startDate),n=new Date(e.endDate);switch(!0){case i>a:return D.push(e),"Upcoming";case(i<=a&&n>=a):return k.push(e),"Current";case n<a:return P.push(e),"Past";default:return"Unknown"}}}},r=e=>(A("data-v-12c0b35e"),e=e(),U(),e),z={class:"container-fluid"},q={class:"row"},L=r(()=>t("div",{class:"col-12 pt-3 d-flex justify-content-center"},[t("h1",{class:"title"},"Projects")],-1)),R={class:"col-12"},G={class:"nav justify-content-center"},H={class:"nav-item"},J={class:"nav-item"},K={class:"nav-item"},M={class:"nav-item"},O={class:"col-12 text-center"},Q={class:"sm-text"},W={key:0,class:"row"},X=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"All Projects")],-1)),Y=["src"],Z={class:"pt-3"},$={class:"pt-3"},j=["onClick"],tt={key:1,class:"row"},st=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Upcoming Projects")],-1)),et=["src"],at={class:"pt-3"},nt={class:"pt-3"},ot=["onClick"],lt={key:2,class:"row"},ct=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Current Projects")],-1)),it=["src"],rt={class:"pt-3"},dt={class:"pt-3"},_t=["onClick"],ht={key:3,class:"row"},ut=r(()=>t("div",{class:"col-12 text-center"},[t("h3",null,"Past Projects")],-1)),mt=["src"],gt={class:"pt-3"},vt={class:"pt-3"},bt={class:"text-gray"},Dt=["onClick"];function kt(e,a,i,n,Pt,ft){const p=w("PortableText");return o(),l("div",z,[t("div",q,[L,t("div",R,[t("ul",G,[t("li",H,[t("a",{class:"nav-link active","aria-current":"page",onClick:a[0]||(a[0]=s=>n.selectedTab="All")},"All")]),t("li",J,[t("a",{class:"nav-link",onClick:a[1]||(a[1]=s=>n.selectedTab="Current")},"Current")]),t("li",K,[t("a",{class:"nav-link",onClick:a[2]||(a[2]=s=>n.selectedTab="Upcoming")},"Upcoming")]),t("li",M,[t("a",{class:"nav-link",onClick:a[3]||(a[3]=s=>n.selectedTab="Past")},"Past")])])]),t("div",O,[t("p",Q,[v(" Voluntour currently has "),t("strong",null,c(n.projects.length),1),v(" projects available: ")])])]),n.selectedTab=="All"?(o(),l("div",W,[X,(o(!0),l(d,null,_(n.projects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,Y),t("h3",Z,c(s.title),1),t("h5",$,c(s.location),1),t("h5",{class:I({"text-grey":n.pastProjects.includes(s)})},c(s.startDate),3),t("button",{onClick:m=>n.pushToDetails(s),class:"btn btn-primary"},"View",8,j)]))),128))])):n.selectedTab=="Upcoming"?(o(),l("div",tt,[st,(o(!0),l(d,null,_(n.upcomingProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,et),t("h3",at,c(s.title),1),t("h5",nt,c(s.location),1),t("h5",null,c(s.startDate),1),V(p,{value:[],components:{}}),t("button",{onClick:m=>n.pushToDetails(s),class:"btn btn-primary"},"View",8,ot)]))),128))])):n.selectedTab=="Current"?(o(),l("div",lt,[ct,(o(!0),l(d,null,_(n.currentProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,it),t("h3",rt,c(s.title),1),t("h5",dt,c(s.location),1),t("h5",null,c(s.startDate),1),t("button",{onClick:m=>n.pushToDetails(s),class:"btn btn-primary"},"View",8,_t)]))),128))])):b("",!0),n.selectedTab=="Past"?(o(),l("div",ht,[ut,(o(!0),l(d,null,_(n.pastProjects,s=>(o(),l("div",{class:"col-12 pb-5 text-center",key:s.id},[t("img",{src:s.aboutImage},null,8,mt),t("h3",gt,c(s.title),1),t("h5",vt,c(s.location),1),t("h5",bt,c(s.startDate),1),t("button",{onClick:m=>n.pushToDetails(s),class:"btn btn-primary"},"View",8,Dt)]))),128))])):b("",!0)])}const Ct=x(F,[["render",kt],["__scopeId","data-v-12c0b35e"]]);export{Ct as default};
